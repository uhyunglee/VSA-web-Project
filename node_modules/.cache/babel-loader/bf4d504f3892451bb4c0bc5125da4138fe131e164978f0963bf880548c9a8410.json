{"ast":null,"code":"import'./App.css';import{useState}from'react';import{useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(props){const[id,setId]=useState(\"\");const[password,setPassword]=useState(\"\");return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"text\",name:\"username\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:event=>{setId(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"password\",name:\"pwd\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:event=>{setPassword(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn\",type:\"submit\",value:\"\\uB85C\\uADF8\\uC778\",onClick:()=>{const userData={userId:id,userPassword:password};fetch(\"http://localhost:3001/login\",{//auth 주소에서 받을 예정\nmethod:\"post\",// method :통신방법\nheaders:{// headers: API 응답에 대한 정보를 담음\n\"content-type\":\"application/json\"},body:JSON.stringify(userData)//userData라는 객체를 보냄\n}).then(res=>res.json()).then(json=>{if(json.isLogin===\"True\"){props.setMode(\"WELCOME\");}else{alert(json.isLogin);}});}})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Sign up?  \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>{props.setMode(\"SIGNIN\");},children:\"Sign up\"})]})]});}function Signin(props){const[id,setId]=useState(\"\");const[password,setPassword]=useState(\"\");const[password2,setPassword2]=useState(\"\");return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"form\",children:[/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"text\",placeholder:\"\\uC544\\uC774\\uB514\",onChange:event=>{setId(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638\",onChange:event=>{setPassword(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"login\",type:\"password\",placeholder:\"\\uBE44\\uBC00\\uBC88\\uD638 \\uD655\\uC778\",onChange:event=>{setPassword2(event.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"input\",{className:\"btn\",type:\"submit\",value:\"\\uD68C\\uC6D0\\uAC00\\uC785\",onClick:()=>{const userData={userId:id,userPassword:password,userPassword2:password2};fetch(\"http://localhost:3001/signin\",{//signin 주소에서 받을 예정\nmethod:\"post\",// method :통신방법\nheaders:{// headers: API 응답에 대한 정보를 담음\n\"content-type\":\"application/json\"},body:JSON.stringify(userData)//userData라는 객체를 보냄\n}).then(res=>res.json()).then(json=>{if(json.isSuccess===\"True\"){alert('회원가입이 완료되었습니다!');props.setMode(\"LOGIN\");}else{alert(json.isSuccess);}});}})})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Back to Login  \",/*#__PURE__*/_jsx(\"button\",{onClick:()=>{props.setMode(\"LOGIN\");},children:\"\\uB85C\\uADF8\\uC778\"})]})]});}function App(){const[mode,setMode]=useState(\"\");useEffect(()=>{fetch(\"http://localhost:3001/authcheck\").then(res=>res.json()).then(json=>{if(json.isLogin===\"True\"){setMode(\"WELCOME\");}else{setMode(\"LOGIN\");}});},[]);let content=null;if(mode===\"LOGIN\"){content=/*#__PURE__*/_jsx(Login,{setMode:setMode});}else if(mode==='SIGNIN'){content=/*#__PURE__*/_jsx(Signin,{setMode:setMode});}else if(mode==='WELCOME'){content=/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Welcome to Mainpage\"}),/*#__PURE__*/_jsx(\"p\",{children:\"login success.\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/logout\",children:\"Logout\"})]});}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"background\",children:content})});}export default App;","map":{"version":3,"names":["useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","props","id","setId","password","setPassword","children","className","type","name","placeholder","onChange","event","target","value","onClick","userData","userId","userPassword","fetch","method","headers","body","JSON","stringify","then","res","json","isLogin","setMode","alert","Signin","password2","setPassword2","userPassword2","isSuccess","App","mode","content","href"],"sources":["/Users/uhyunglee/VSA/web/src/App.js"],"sourcesContent":["import './App.css';\nimport { useState } from 'react';\nimport { useEffect } from 'react';\n\nfunction Login(props) {\n  const [id, setId] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  \n  return <>\n    <h2>Login</h2>\n\n    <div className=\"form\">\n      <p><input className=\"login\" type=\"text\" name=\"username\" placeholder=\"아이디\" onChange={event => {\n        setId(event.target.value);\n      }} /></p>\n      <p><input className=\"login\" type=\"password\" name=\"pwd\" placeholder=\"비밀번호\" onChange={event => {\n        setPassword(event.target.value);\n      }} /></p>\n\n      <p><input className=\"btn\" type=\"submit\" value=\"로그인\" onClick={() => {\n        const userData = {\n          userId: id,\n          userPassword: password,\n        };\n        fetch(\"http://localhost:3001/login\", { //auth 주소에서 받을 예정\n          method: \"post\", // method :통신방법\n          headers: {      // headers: API 응답에 대한 정보를 담음\n            \"content-type\": \"application/json\",\n          },\n          body: JSON.stringify(userData), //userData라는 객체를 보냄\n        })\n          .then((res) => res.json())\n          .then((json) => {            \n            if(json.isLogin===\"True\"){\n              props.setMode(\"WELCOME\");\n            }\n            else {\n              alert(json.isLogin)\n            }\n          });\n      }} /></p>\n    </div>\n\n    <p>Sign up?  <button onClick={() => {\n      props.setMode(\"SIGNIN\");\n    }}>Sign up</button></p>\n  </> \n}\n\n\nfunction Signin(props) {\n  const [id, setId] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [password2, setPassword2] = useState(\"\");\n\n  return <>\n    <h2>Sign up</h2>\n\n    <div className=\"form\">\n      <p><input className=\"login\" type=\"text\" placeholder=\"아이디\" onChange={event => {\n        setId(event.target.value);\n      }} /></p>\n      <p><input className=\"login\" type=\"password\" placeholder=\"비밀번호\" onChange={event => {\n        setPassword(event.target.value);\n      }} /></p>\n      <p><input className=\"login\" type=\"password\" placeholder=\"비밀번호 확인\" onChange={event => {\n        setPassword2(event.target.value);\n      }} /></p>\n\n      <p><input className=\"btn\" type=\"submit\" value=\"회원가입\" onClick={() => {\n        const userData = {\n          userId: id,\n          userPassword: password,\n          userPassword2: password2,\n        };\n        fetch(\"http://localhost:3001/signin\", { //signin 주소에서 받을 예정\n          method: \"post\", // method :통신방법\n          headers: {      // headers: API 응답에 대한 정보를 담음\n            \"content-type\": \"application/json\",\n          },\n          body: JSON.stringify(userData), //userData라는 객체를 보냄\n        })\n          .then((res) => res.json())\n          .then((json) => {\n            if(json.isSuccess===\"True\"){\n              alert('회원가입이 완료되었습니다!')\n              props.setMode(\"LOGIN\");\n            }\n            else{\n              alert(json.isSuccess)\n            }\n          });\n      }} /></p>\n    </div>\n\n    <p>Back to Login  <button onClick={() => {\n      props.setMode(\"LOGIN\");\n    }}>로그인</button></p>\n  </> \n}\n\nfunction App() {\n  const [mode, setMode] = useState(\"\");\n\n  useEffect(() => {\n    fetch(\"http://localhost:3001/authcheck\")\n      .then((res) => res.json())\n      .then((json) => {        \n        if (json.isLogin === \"True\") {\n          setMode(\"WELCOME\");\n        }\n        else {\n          setMode(\"LOGIN\");\n        }\n      });\n  }, []); \n\n  let content = null;  \n\n  if(mode===\"LOGIN\"){\n    content = <Login setMode={setMode}></Login> \n  }\n  else if (mode === 'SIGNIN') {\n    content = <Signin setMode={setMode}></Signin> \n  }\n  else if (mode === 'WELCOME') {\n    content = <>\n    <h2>Welcome to Mainpage</h2>\n    <p>login success.</p> \n    <a href=\"/logout\">Logout</a>   \n    </>\n  }\n\n  return (\n    <>\n      <div className=\"background\">\n        {content}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}